!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("particle-api-js",[],t):"object"==typeof exports?exports["particle-api-js"]=t():e["particle-api-js"]=t()}(this,(()=>(()=>{var e={501:(e,t,r)=>{var s=r(989),o=r(676),a=r(170),i=r(405),n=r(269),u=t;u.request=function(e,t){e="string"==typeof e?n.parse(e):a(e);var o=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",i=e.protocol||o,u=e.hostname||e.host,c=e.port,d=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?i+"//"+u:"")+(c?":"+c:"")+d,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new s(e);return t&&h.on("response",t),h},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=s,u.IncomingMessage=o.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=i,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},725:(e,t,r)=>{var s;function o(){if(void 0!==s)return s;if(r.g.XMLHttpRequest){s=new r.g.XMLHttpRequest;try{s.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){s=null}}else s=null;return s}function a(e){var t=o();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(r.g.fetch)&&i(r.g.ReadableStream),t.writableStream=i(r.g.WritableStream),t.abortController=i(r.g.AbortController),t.arraybuffer=t.fetch||a("arraybuffer"),t.msstream=!t.fetch&&a("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!o()&&i(o().overrideMimeType),s=null},989:(e,t,r)=>{var s=r(871).Buffer,o=r(725),a=r(766),i=r(676),n=r(248),u=i.IncomingMessage,c=i.readyStates;var d=e.exports=function(e){var t,r=this;n.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+s.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var a=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)a=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,a),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};a(d,n.Writable),d.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var s=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=new Blob(e._body,{type:(s["content-type"]||{}).value||""}));var i=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach((function(e){i.push([t,e])})):i.push([t,r])})),"fetch"===e._mode){var n=null;if(o.abortController){var u=new AbortController;n=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:i,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:n}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new r.g.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void process.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(d.timeout=t.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),i.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{d.send(a)}catch(t){return void process.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,r){this._body.push(e),r()},d.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},d.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),n.Writable.prototype.end.call(this,e,t,r)},d.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},676:(e,t,r)=>{var s=r(871).Buffer,o=r(725),a=r(766),i=r(248),n=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,r,a){var n=this;if(i.Readable.call(n),n._mode=r,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",(function(){process.nextTick((function(){n.emit("close")}))})),"fetch"===r){if(n._fetchResponse=t,n.url=t.url,n.statusCode=t.status,n.statusMessage=t.statusText,t.headers.forEach((function(e,t){n.headers[t.toLowerCase()]=e,n.rawHeaders.push(t,e)})),o.writableStream){var u=new WritableStream({write:function(e){return a(!1),new Promise((function(t,r){n._destroyed?r():n.push(s.from(e))?t():n._resumeFetch=t}))},close:function(){a(!0),n._destroyed||n.push(null)},abort:function(e){a(!0),n._destroyed||n.emit("error",e)}});try{return void t.body.pipeTo(u).catch((function(e){a(!0),n._destroyed||n.emit("error",e)}))}catch(e){}}var c=t.body.getReader();!function e(){c.read().then((function(t){n._destroyed||(a(t.done),t.done?n.push(null):(n.push(s.from(t.value)),e()))})).catch((function(e){a(!0),n._destroyed||n.emit("error",e)}))}()}else{if(n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===n.headers[r]&&(n.headers[r]=[]),n.headers[r].push(t[2])):void 0!==n.headers[r]?n.headers[r]+=", "+t[2]:n.headers[r]=t[2],n.rawHeaders.push(t[1],t[2])}})),n._charset="x-user-defined",!o.overrideMimeType){var d=n.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(n._charset=h[1].toLowerCase())}n._charset||(n._charset="utf-8")}}};a(u,i.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(e){var t=this,o=t._xhr,a=null;switch(t._mode){case"text":if((a=o.responseText).length>t._pos){var i=a.substr(t._pos);if("x-user-defined"===t._charset){for(var u=s.alloc(i.length),c=0;c<i.length;c++)u[c]=255&i.charCodeAt(c);t.push(u)}else t.push(i,t._charset);t._pos=a.length}break;case"arraybuffer":if(o.readyState!==n.DONE||!o.response)break;a=o.response,t.push(s.from(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=o.response,o.readyState!==n.LOADING||!a)break;t.push(s.from(new Uint8Array(a)));break;case"ms-stream":if(a=o.response,o.readyState!==n.LOADING)break;var d=new r.g.MSStreamReader;d.onprogress=function(){d.result.byteLength>t._pos&&(t.push(s.from(new Uint8Array(d.result.slice(t._pos)))),t._pos=d.result.byteLength)},d.onload=function(){e(!0),t.push(null)},d.readAsArrayBuffer(a)}t._xhr.readyState===n.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},731:(e,t,r)=>{var s=r(871).Buffer;const o=r(809),a=r(941),i=r(104),n=r(14),u=r(147);e.exports=class{constructor(e){this.setBaseUrl(e)}setBaseUrl(e){this.baseUrl=e}get({uri:e,auth:t,headers:r,query:s,context:o}){return this.request({uri:e,method:"get",auth:t,headers:r,query:s,context:o})}head({uri:e,auth:t,headers:r,query:s,context:o}){return this.request({uri:e,method:"head",auth:t,headers:r,query:s,context:o})}post({uri:e,headers:t,data:r,auth:s,context:o}){return this.request({uri:e,method:"post",auth:s,headers:t,data:r,context:o})}put({uri:e,auth:t,headers:r,data:s,context:o}){return this.request({uri:e,method:"put",auth:t,headers:r,data:s,context:o})}delete({uri:e,auth:t,headers:r,data:s,context:o}){return this.request({uri:e,method:"delete",auth:t,headers:r,data:s,context:o})}request({uri:e,method:t,headers:r,data:s,auth:o,query:a,form:i,files:n,context:u,isBuffer:c=!1}){const d=this._sanitizeFiles(n),h=this._buildRequest({uri:e,method:t,headers:r,data:s,auth:o,query:a,form:i,context:u,files:d});return this._promiseResponse(h,c)}_promiseResponse(e,t,r=o){let a;return r(...e).then((e=>(a=e.status,e.ok?204===a?"":t?e.blob():e.json():e.text().then((t=>{const r=JSON.parse(t),s=Object.assign(e,{text:t});throw Object.assign(r,{response:s})}))))).then((e=>t?e.arrayBuffer().then((e=>this.isForBrowser()?e:s.from(e))):{body:e,statusCode:a})).catch((t=>{let r,s=`${a?`HTTP error ${a}`:"Network error"} from ${e[0]}`;t.error_description&&(s=`${s} - ${t.error_description}`,r=t.error_description);const o=new Error(s);throw Object.assign(o,{statusCode:a,errorDescription:s,shortErrorDescription:r,error:t,body:t}),o}))}_buildRequest({uri:e,method:t,headers:r,data:s,auth:o,query:a,form:n,files:c,context:d}){let h=e;if(this.baseUrl&&"/"===e[0]&&(h=`${this.baseUrl}${e}`),a){const e=i.stringify(a),t=h.includes("?");h=`${h}${t?"&":"?"}${e}`}const p={"User-Agent":`${u.name}/${u.version} (${u.repository.url})`};let l,m;c?(m={},l=this._getFromData(c,n)):n?(m={"Content-Type":"application/x-www-form-urlencoded"},l=i.stringify(n)):s&&(m={"Content-Type":"application/json"},l=JSON.stringify(s));return[h,{method:t,body:l,headers:Object.assign({},p,m,this._getAuthorizationHeader(o),this._getContextHeaders(d),r)}]}isForBrowser(){return"undefined"!=typeof window}_getFromData(e,t){const r=new a;for(let[t,s]of Object.entries(e)){let e=s.path,o=s.data;if(!this.isForBrowser()){const t=this._getNodeFormData(s);e=t.path,o=t.file}r.append(t,o,e)}if(t)for(let[e,s]of Object.entries(t))r.append(e,s);return r}_getNodeFormData(e){let t=e.data;return"string"==typeof e.data&&(t=n.createReadStream(e.data)),{file:t,path:{filepath:e.path}}}_getContextHeaders(e={}){return Object.assign({},this._getToolContext(e.tool),this._getProjectContext(e.project))}_getToolContext(e={}){let t="";if(e.name&&(t+=this._toolIdent(e),e.components))for(let r of e.components)t+=", "+this._toolIdent(r);return t?{"X-Particle-Tool":t}:{}}_toolIdent(e){return this._nameAtVersion(e.name,e.version)}_nameAtVersion(e,t){let r="";return e&&(r+=e,t&&(r+="@"+t)),r}_getProjectContext(e={}){let t=this._buildSemicolonSeparatedProperties(e,"name");return t?{"X-Particle-Project":t}:{}}_buildSemicolonSeparatedProperties(e,t){let r="";if(e[t]){r+=e[t];for(let s in e)s!==t&&e.hasOwnProperty(s)&&(r+="; "+s+"="+e[s])}return r}_getAuthorizationHeader(e){if(!e)return{};if("string"==typeof e)return{Authorization:`Bearer ${e}`};let t;return t=this.isForBrowser()?btoa(`${e.username}:${e.password}`):s.from(`${e.username}:${e.password}`).toString("base64"),{Authorization:`Basic ${t}`}}_sanitizeFiles(e){let t;return e&&(t={},Object.keys(e).forEach(((r,s)=>{t[s?`file${s+1}`:"file"]={data:e[r],path:r}}))),t}}},318:(e,t,r)=>{const s=r(101);let o;e.exports=class{constructor({auth:e,api:t=new o}){this.auth=e,this.api=t}ready(){return Boolean(this.auth)}libraries(e={}){return this.api.listLibraries(Object.assign({},e,{auth:this.auth})).then((e=>(e.body.data||[]).map((e=>new s(this,e)))))}library(e,t={}){return this.api.getLibrary(Object.assign({},t,{name:e,auth:this.auth})).then((e=>{const t=e.body.data||{};return new s(this,t)}))}libraryVersions(e,t={}){return this.api.getLibraryVersions(Object.assign({},t,{name:e,auth:this.auth})).then((e=>(e.body.data||[]).map((e=>new s(this,e)))))}contributeLibrary(e){return this.api.contributeLibrary({archive:e,auth:this.auth}).then((e=>{const t=e.body.data||{};return new s(this,t)}),(e=>{this._throwError(e)}))}publishLibrary(e){return this.api.publishLibrary({name:e,auth:this.auth}).then((e=>{const t=e.body.data||{};return new s(this,t)}),(e=>{this._throwError(e)}))}deleteLibrary({name:e,force:t}){return this.api.deleteLibrary({name:e,force:t,auth:this.auth}).then((()=>!0),(e=>this._throwError(e)))}_throwError(e){if(e.body&&e.body.errors){const t=e.body.errors.map((e=>e.message)).join("\n");throw new Error(t)}throw e}downloadFile(e){return this.api.downloadFile({uri:e})}compileCode(e,t,r){return this.api.compileCode({files:e,platformId:t,targetVersion:r,auth:this.auth})}signalDevice({signal:e,deviceId:t}){return this.api.signalDevice({signal:e,deviceId:t,auth:this.auth})}listDevices(){return this.api.listDevices({auth:this.auth})}listBuildTargets(){return this.api.listBuildTargets({onlyFeatured:!0,auth:this.auth}).then((e=>{let t=[];for(let r of e.body.targets)for(let e of r.platforms)t.push({version:r.version,platform:e,prerelease:r.prereleases.indexOf(e)>-1,firmware_vendor:r.firmware_vendor});return t}),(()=>{}))}trackingIdentity({full:e=!1,context:t}={}){return this.api.trackingIdentity({full:e,context:t,auth:this.auth}).then((e=>e.body))}},o=r(845)},822:e=>{e.exports={baseUrl:"https://api.particle.io",clientSecret:"particle-api",clientId:"particle-api",tokenDuration:7776e3,auth:void 0}},705:(e,t,r)=>{const s=r(501),o=r(501),a=r(269),{EventEmitter:i}=r(239);e.exports=class extends i{constructor(e,t){super(),this.uri=e,this.token=t,this.reconnectInterval=2e3,this.timeout=13e3,this.data="",this.buf="",this.parse=this.parse.bind(this),this.end=this.end.bind(this),this.idleTimeoutExpired=this.idleTimeoutExpired.bind(this)}connect(){return new Promise(((e,t)=>{const{hostname:r,protocol:i,port:n,path:u}=a.parse(this.uri);this.origin=`${i}//${r}${n?":"+n:""}`;const c="https:"===i,d=(c?o:s).request({hostname:r,protocol:i,path:`${u}?access_token=${this.token}`,method:"get",port:parseInt(n,10)||(c?443:80),mode:"prefer-streaming"});this.req=d;let h=!1,p=setTimeout((()=>{this.req&&this.req.abort(),t({error:new Error("Timeout"),errorDescription:`Timeout connecting to ${this.uri}`})}),this.timeout);d.on("error",(e=>{clearTimeout(p),h?this.end():t({error:e,errorDescription:`Network error from ${this.uri}`})})),d.on("response",(r=>{clearTimeout(p);const s=r.statusCode;if(200!==s){let e="";return r.on("data",(t=>e+=t)),void r.on("end",(()=>{try{e=JSON.parse(e)}catch(e){}finally{let r=`HTTP error ${s} from ${this.uri}`;e&&e.error_description&&(r+=" - "+e.error_description),t({statusCode:s,errorDescription:r,body:e}),this.req=void 0}}))}this.data="",this.buf="",h=!0,r.on("data",this.parse),r.once("end",this.end),this.startIdleTimeout(),e(this)})),d.end()}))}abort(){this.req&&(this.req.abort(),this.req=void 0),this.removeAllListeners()}emitSafe(e,t){try{this.emit(e,t)}catch(t){"error"!==e&&this.emitSafe("error",t)}}end(){this.stopIdleTimeout(),this.req&&(this.req=void 0,this.emitSafe("disconnect"),this.reconnect())}reconnect(){setTimeout((()=>{this.isOffline()?this.reconnect():(this.emitSafe("reconnect"),this.connect().then((()=>{this.emitSafe("reconnect-success")})).catch((e=>{this.emitSafe("reconnect-error",e),this.reconnect()})))}),this.reconnectInterval)}isOffline(){return"undefined"!=typeof navigator&&!navigator.hasOwnProperty("onLine")&&!navigator.onLine}startIdleTimeout(){this.stopIdleTimeout(),this.idleTimeout=setTimeout(this.idleTimeoutExpired,this.timeout)}stopIdleTimeout(){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null)}idleTimeoutExpired(){this.req&&(this.req.abort(),this.end())}parse(e){this.startIdleTimeout(),this.buf+=e;let t=0,r=this.buf.length,s=!1;for(;t<r;){s&&("\n"===this.buf[t]&&++t,s=!1);let e=-1,o=-1;for(let a=t;e<0&&a<r;++a){const r=this.buf[a];":"===r?o<0&&(o=a-t):"\r"===r?(s=!0,e=a-t):"\n"===r&&(e=a-t)}if(e<0)break;this.parseEventStreamLine(t,o,e),t+=e+1}t===r?this.buf="":t>0&&(this.buf=this.buf.slice(t))}parseEventStreamLine(e,t,r){if(0===r)try{if(this.data.length>0&&this.event){const e=JSON.parse(this.data);e.name=this.eventName||"",this.emitSafe("event",e)}}catch(e){}finally{this.data="",this.eventName=void 0,this.event=!1}else if(t>0){const s=this.buf.slice(e,e+t);let o=0;o=" "!==this.buf[e+t+1]?t+1:t+2,e+=o;const a=r-o,i=this.buf.slice(e,e+a);"data"===s?this.data+=i+"\n":"event"===s&&(this.eventName=i,this.event=!0)}}}},101:e=>{e.exports=class{constructor(e,t){Object.defineProperty(this,"client",{value:e}),this._assignAttributes(t),this.downloadUrl=t.links&&t.links.download}_assignAttributes(e){Object.assign(this,e.attributes)}download(){return this.downloadUrl?this.client.downloadFile(this.downloadUrl):Promise.reject(new Error("No download URL for this library"))}}},845:(e,t,r)=>{const s=r(822),o=r(705),a=r(731),i=r(318);class n{constructor(e={}){e.auth&&this.setDefaultAuth(e.auth),Object.assign(this,s,e),this.context={},this.agent=new a(this.baseUrl)}_isValidContext(e,t){return("tool"===e||"project"===e)&&void 0!==t}setContext(e,t){if(void 0!==t){if(!this._isValidContext(e,t))throw Error("unknown context name or undefined context: "+e);this.context[e]=t}}_buildContext(e){return Object.assign(this.context,e)}login({username:e,password:t,tokenDuration:r=this.tokenDuration,headers:s,context:o}){return this.request({uri:"/oauth/token",method:"post",headers:s,form:{username:e,password:t,grant_type:"password",client_id:this.clientId,client_secret:this.clientSecret,expires_in:r},context:o})}sendOtp({mfaToken:e,otp:t,headers:r,context:s}){return this.request({uri:"/oauth/token",method:"post",headers:r,form:{grant_type:"urn:custom:mfa-otp",mfa_token:e,otp:t,client_id:this.clientId,client_secret:this.clientSecret},context:s})}enableMfa({auth:e,headers:t,context:r}){return this.get({uri:"/v1/user/mfa-enable",auth:e,headers:t,context:r})}confirmMfa({mfaToken:e,otp:t,invalidateTokens:r=!1,auth:s,headers:o,context:a}){let i={mfa_token:e,otp:t};return r&&(i.invalidate_tokens=!0),this.post({uri:"/v1/user/mfa-enable",auth:s,headers:o,data:i,context:a})}disableMfa({currentPassword:e,auth:t,headers:r,context:s}){return this.put({uri:"/v1/user/mfa-disable",auth:t,headers:r,data:{current_password:e},context:s})}createCustomer({email:e,password:t,product:r,headers:s,context:o}){return this.request({uri:`/v1/products/${r}/customers`,method:"post",headers:s,form:{email:e,password:t,grant_type:"client_credentials",client_id:this.clientId,client_secret:this.clientSecret},context:o})}loginAsClientOwner({headers:e,context:t}){return this.request({uri:"/oauth/token",method:"post",headers:e,form:{grant_type:"client_credentials",client_id:this.clientId,client_secret:this.clientSecret},context:t})}createUser({username:e,password:t,accountInfo:r,headers:s,context:o}){return this.post({uri:"/v1/users",headers:s,data:{username:e,password:t,account_info:r},context:o})}verifyUser({token:e,headers:t,context:r}){return this.post({uri:"/v1/user/verify",headers:t,data:{token:e},context:r})}resetPassword({username:e,headers:t,context:r}){return this.post({uri:"/v1/user/password-reset",headers:t,data:{username:e},context:r})}deleteAccessToken({username:e,password:t,token:r,headers:s,context:o}){return this.delete({uri:`/v1/access_tokens/${r}`,auth:{username:e,password:t},headers:s,data:{access_token:r},context:o})}deleteCurrentAccessToken({auth:e,headers:t,context:r}){return this.delete({uri:"/v1/access_tokens/current",auth:e,headers:t,context:r})}deleteActiveAccessTokens({auth:e,headers:t,context:r}){return this.delete({uri:"/v1/access_tokens",auth:e,headers:t,context:r})}deleteUser({auth:e,password:t,headers:r,context:s}){return this.delete({uri:"/v1/user",data:{password:t},auth:e,headers:r,context:s})}listAccessTokens({username:e,password:t,otp:r,headers:s,context:o}){return this.get({uri:"/v1/access_tokens",auth:{username:e,password:t},query:r?{otp:r}:void 0,headers:s,context:o})}trackingIdentity({full:e=!1,auth:t,headers:r,context:s}={}){return this.get({uri:"/v1/user/identify",auth:t,headers:r,query:e?void 0:{tracking:1},context:s})}listDevices({deviceId:e,deviceName:t,groups:r,sortAttr:s,sortDir:o,page:a,perPage:i,product:n,auth:u,headers:c,context:d}){let h,p;return n?(h=`/v1/products/${n}/devices`,p={deviceId:e,deviceName:t,groups:Array.isArray(r)?r.join(","):void 0,sortAttr:s,sortDir:o,page:a,per_page:i}):h="/v1/devices",this.get({uri:h,auth:u,headers:c,query:p,context:d})}getDevice({deviceId:e,product:t,auth:r,headers:s,context:o}){const a=this.deviceUri({deviceId:e,product:t});return this.get({uri:a,auth:r,headers:s,context:o})}claimDevice({deviceId:e,requestTransfer:t,auth:r,headers:s,context:o}){return this.post({uri:"/v1/devices",auth:r,headers:s,data:{id:e,request_transfer:!!t},context:o})}addDeviceToProduct({deviceId:e,product:t,file:r,auth:s,headers:o,context:a}){let i,n;return r?i={file:r}:e&&(n={id:e}),this.request({uri:`/v1/products/${t}/devices`,method:"post",headers:o,data:n,files:i,auth:s,context:a})}removeDevice({deviceId:e,deny:t,product:r,auth:s,headers:o,context:a}){const i=this.deviceUri({deviceId:e,product:r}),n=r?{deny:t}:void 0;return this.delete({uri:i,data:n,auth:s,headers:o,context:a})}removeDeviceOwner({deviceId:e,product:t,auth:r,headers:s,context:o}){const a=`/v1/products/${t}/devices/${e}/owner`;return this.delete({uri:a,auth:r,headers:s,context:o})}renameDevice({deviceId:e,name:t,product:r,auth:s,headers:o,context:a}){return this.updateDevice({deviceId:e,name:t,product:r,auth:s,headers:o,context:a})}signalDevice({deviceId:e,signal:t,product:r,auth:s,headers:o,context:a}){return this.updateDevice({deviceId:e,signal:t,product:r,auth:s,headers:o,context:a})}setDeviceNotes({deviceId:e,notes:t,product:r,auth:s,headers:o,context:a}){return this.updateDevice({deviceId:e,notes:t,product:r,auth:s,headers:o,context:a})}markAsDevelopmentDevice({deviceId:e,development:t=!0,product:r,auth:s,headers:o,context:a}){return this.updateDevice({deviceId:e,development:t,product:r,auth:s,headers:o,context:a})}lockDeviceProductFirmware({deviceId:e,desiredFirmwareVersion:t,flash:r,product:s,auth:o,context:a}){return this.updateDevice({deviceId:e,desiredFirmwareVersion:t,flash:r,product:s,auth:o,context:a})}unlockDeviceProductFirmware({deviceId:e,product:t,auth:r,headers:s,context:o}){return this.updateDevice({deviceId:e,desiredFirmwareVersion:null,product:t,auth:r,headers:s,context:o})}updateDevice({deviceId:e,name:t,signal:r,notes:s,development:o,desiredFirmwareVersion:a,flash:i,product:n,auth:u,headers:c,context:d}){let h;void 0!==r&&(h=r?"1":"0");const p=this.deviceUri({deviceId:e,product:n}),l=n?{name:t,signal:h,notes:s,development:o,desired_firmware_version:a,flash:i}:{name:t,signal:h,notes:s};return this.put({uri:p,auth:u,headers:c,data:l,context:d})}provisionDevice({productId:e,auth:t,headers:r,context:s}){return this.post({uri:"/v1/devices",auth:t,headers:r,data:{product_id:e},context:s})}getClaimCode({iccid:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/device_claims`:"/v1/device_claims";return this.post({uri:a,auth:r,headers:s,data:{iccid:e},context:o})}validatePromoCode({promoCode:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/promo_code/${e}`,auth:t,headers:r,context:s})}changeProduct({deviceId:e,productId:t,auth:r,headers:s,context:o}){return this.put({uri:`/v1/devices/${e}`,auth:r,headers:s,data:{product_id:t},context:o})}getVariable({deviceId:e,name:t,product:r,auth:s,headers:o,context:a}){const i=r?`/v1/products/${r}/devices/${e}/${t}`:`/v1/devices/${e}/${t}`;return this.get({uri:i,auth:s,headers:o,context:a})}flashDevice({deviceId:e,product:t,files:r,targetVersion:s,auth:o,headers:a,context:i}){const n=this.deviceUri({deviceId:e,product:t}),u={};return s?u.build_target_version=s:u.latest="true",this.request({uri:n,method:"put",auth:o,headers:a,files:r,form:u,context:i})}flashTinker({deviceId:e,auth:t,headers:r,context:s}){return console&&console.warning&&console.warning("Particle.flashTinker is deprecated"),this.put({uri:`/v1/devices/${e}`,headers:r,data:{app:"tinker"},auth:t,context:s})}compileCode({files:e,platformId:t,targetVersion:r,auth:s,headers:o,context:a}){const i={platform_id:t};return r?i.build_target_version=r:i.latest="true",this.request({uri:"/v1/binaries",method:"post",auth:s,headers:o,files:e,form:i,context:a})}downloadFirmwareBinary({binaryId:e,auth:t,headers:r,context:s}){return this.request({uri:`/v1/binaries/${e}`,method:"get",auth:t,headers:r,context:s,isBuffer:!0})}sendPublicKey({deviceId:e,key:t,algorithm:r,auth:s,headers:o,context:a}){return this.post({uri:`/v1/provisioning/${e}`,auth:s,headers:o,data:{deviceID:e,publicKey:"string"==typeof t?t:t.toString(),filename:"particle-api",order:`manual_${Date.now()}`,algorithm:r||"rsa"},context:a})}callFunction({deviceId:e,name:t,argument:r,product:s,auth:o,headers:a,context:i}){const n=s?`/v1/products/${s}/devices/${e}/${t}`:`/v1/devices/${e}/${t}`;return this.post({uri:n,auth:o,headers:a,data:{args:r},context:i})}getEventStream({deviceId:e,name:t,org:r,product:s,auth:a}){let i="/v1/";return r&&(i+=`orgs/${r}/`),s&&(i+=`products/${s}/`),e&&(i+="devices/","mine"!==e.toLowerCase()&&(i+=`${e}/`)),i+="events",t&&(i+=`/${encodeURIComponent(t)}`),a=this._getActiveAuthToken(a),new o(`${this.baseUrl}${i}`,a).connect()}publishEvent({name:e,data:t,isPrivate:r,product:s,auth:o,headers:a,context:i}){const n=s?`/v1/products/${s}/events`:"/v1/devices/events",u={name:e,data:t,private:r};return this.post({uri:n,auth:o,headers:a,data:u,context:i})}createWebhook({event:e,url:t,device:r,rejectUnauthorized:s,noDefaults:o,hook:a,product:i,auth:n,headers:u,context:c}){const d=i?`/v1/products/${i}/webhooks`:"/v1/webhooks",h={event:e,url:t,deviceId:r,rejectUnauthorized:s,noDefaults:o};return a&&(h.requestType=a.method,h.auth=a.auth,h.headers=a.headers,h.query=a.query,h.json=a.json,h.form=a.form,h.body=a.body,h.responseTemplate=a.responseTemplate,h.responseTopic=a.responseEvent,h.errorResponseTopic=a.errorResponseEvent),h.requestType||(h.requestType="POST"),this.post({uri:d,auth:n,headers:u,data:h,context:c})}deleteWebhook({hookId:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/webhooks/${e}`:`/v1/webhooks/${e}`;return this.delete({uri:a,auth:r,headers:s,context:o})}listWebhooks({product:e,auth:t,headers:r,context:s}){const o=e?`/v1/products/${e}/webhooks`:"/v1/webhooks";return this.get({uri:o,auth:t,headers:r,context:s})}createIntegration({event:e,settings:t,deviceId:r,product:s,auth:o,headers:a,context:i}){const n=s?`/v1/products/${s}/integrations`:"/v1/integrations",u=Object.assign({event:e,deviceid:r},t);return this.post({uri:n,data:u,auth:o,headers:a,context:i})}editIntegration({integrationId:e,event:t,settings:r,deviceId:s,product:o,auth:a,headers:i,context:n}){const u=o?`/v1/products/${o}/integrations/${e}`:`/v1/integrations/${e}`,c=Object.assign({event:t,deviceid:s},r);return this.put({uri:u,auth:a,headers:i,data:c,context:n})}deleteIntegration({integrationId:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/integrations/${e}`:`/v1/integrations/${e}`;return this.delete({uri:a,auth:r,headers:s,context:o})}listIntegrations({product:e,auth:t,headers:r,context:s}){const o=e?`/v1/products/${e}/integrations`:"/v1/integrations";return this.get({uri:o,auth:t,headers:r,context:s})}getUserInfo({auth:e,headers:t,context:r}){return this.get({uri:"/v1/user",auth:e,headers:t,context:r})}setUserInfo({accountInfo:e,auth:t,headers:r,context:s}){const o={account_info:e};return this.put({uri:"/v1/user",auth:t,headers:r,data:o,context:s})}changeUsername({currentPassword:e,username:t,invalidateTokens:r=!1,auth:s,headers:o,context:a}){const i={username:t,current_password:e};return r&&(i.invalidate_tokens=!0),this.put({uri:"/v1/user",auth:s,headers:o,data:i,context:a})}changeUserPassword({currentPassword:e,password:t,invalidateTokens:r=!1,auth:s,headers:o,context:a}){const i={password:t,current_password:e};return r&&(i.invalidate_tokens=!0),this.put({uri:"/v1/user",auth:s,headers:o,data:i,context:a})}listSIMs({iccid:e,deviceId:t,deviceName:r,page:s,perPage:o,product:a,auth:i,headers:n,context:u}){const c=a?`/v1/products/${a}/sims`:"/v1/sims",d=a?{iccid:e,deviceId:t,deviceName:r,page:s,per_page:o}:void 0;return this.get({uri:c,auth:i,headers:n,query:d,context:u})}getSIMDataUsage({iccid:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/sims/${e}/data_usage`:`/v1/sims/${e}/data_usage`;return this.get({uri:a,auth:r,headers:s,context:o})}getFleetDataUsage({product:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/products/${e}/sims/data_usage`,auth:t,headers:r,context:s})}checkSIM({iccid:e,auth:t,headers:r,context:s}){return this.head({uri:`/v1/sims/${e}`,auth:t,headers:r,context:s})}activateSIM({iccid:e,iccids:t,country:r,promoCode:s,product:o,auth:a,headers:i,context:n}){t=t||[e];const u=o?`/v1/products/${o}/sims`:`/v1/sims/${e}`,c=o?{sims:t,country:r}:{country:r,promoCode:s,action:"activate"},d=o?"post":"put";return this.request({uri:u,method:d,headers:i,data:c,auth:a,context:n})}deactivateSIM({iccid:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/sims/${e}`:`/v1/sims/${e}`;return this.put({uri:a,auth:r,headers:s,data:{action:"deactivate"},context:o})}reactivateSIM({iccid:e,mbLimit:t,product:r,auth:s,headers:o,context:a}){const i=r?`/v1/products/${r}/sims/${e}`:`/v1/sims/${e}`,n={mb_limit:t,action:"reactivate"};return this.put({uri:i,auth:s,headers:o,data:n,context:a})}updateSIM({iccid:e,mbLimit:t,product:r,auth:s,headers:o,context:a}){const i=r?`/v1/products/${r}/sims/${e}`:`/v1/sims/${e}`,n={mb_limit:t};return this.put({uri:i,auth:s,headers:o,data:n,context:a})}removeSIM({iccid:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/sims/${e}`:`/v1/sims/${e}`;return this.delete({uri:a,auth:r,headers:s,context:o})}listBuildTargets({onlyFeatured:e,auth:t,headers:r,context:s}){const o=e?{featured:!!e}:void 0;return this.get({uri:"/v1/build_targets",auth:t,headers:r,query:o,context:s})}listLibraries({page:e,limit:t,filter:r,sort:s,architectures:o,category:a,scope:i,excludeScopes:n,auth:u,headers:c,context:d}){return this.get({uri:"/v1/libraries",auth:u,headers:c,query:{page:e,filter:r,limit:t,sort:s,architectures:this._asList(o),category:a,scope:i,excludeScopes:this._asList(n)},context:d})}_asList(e){return Array.isArray(e)?e.join(","):e}getLibrary({name:e,version:t,auth:r,headers:s,context:o}){return this.get({uri:`/v1/libraries/${e}`,auth:r,headers:s,query:{version:t},context:o})}getLibraryVersions({name:e,page:t,limit:r,auth:s,headers:o,context:a}){return this.get({uri:`/v1/libraries/${e}/versions`,auth:s,headers:o,query:{page:t,limit:r},context:a})}contributeLibrary({archive:e,auth:t,headers:r,context:s}){const o={"archive.tar.gz":e};return this.request({uri:"/v1/libraries",method:"post",auth:t,headers:r,files:o,context:s})}publishLibrary({name:e,auth:t,headers:r,context:s}){return this.request({uri:`/v1/libraries/${e}`,method:"patch",auth:t,headers:r,data:{visibility:"public"},context:s})}deleteLibrary({name:e,force:t,auth:r,headers:s,context:o}){return this.delete({uri:`/v1/libraries/${e}`,auth:r,headers:s,data:{force:t},context:o})}downloadFile({uri:e,headers:t,context:r}){return this.request({uri:e,method:"get",headers:t,context:r,isBuffer:!0})}listOAuthClients({product:e,auth:t,headers:r,context:s}){const o=e?`/v1/products/${e}/clients`:"/v1/clients";return this.get({uri:o,auth:t,headers:r,context:s})}createOAuthClient({name:e,type:t,redirect_uri:r,scope:s,product:o,auth:a,headers:i,context:n}){const u=o?`/v1/products/${o}/clients`:"/v1/clients",c={name:e,type:t,redirect_uri:r,scope:s};return this.post({uri:u,auth:a,headers:i,data:c,context:n})}updateOAuthClient({clientId:e,name:t,scope:r,product:s,auth:o,headers:a,context:i}){const n=s?`/v1/products/${s}/clients/${e}`:`/v1/clients/${e}`,u={name:t,scope:r};return this.put({uri:n,data:u,auth:o,headers:a,context:i})}deleteOAuthClient({clientId:e,product:t,auth:r,headers:s,context:o}){const a=t?`/v1/products/${t}/clients/${e}`:`/v1/clients/${e}`;return this.delete({uri:a,auth:r,headers:s,context:o})}listProducts({auth:e,headers:t,context:r}){return this.get({uri:"/v1/products",auth:e,headers:t,context:r})}getProduct({product:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/products/${e}`,auth:t,headers:r,context:s})}listProductFirmware({product:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/products/${e}/firmware`,auth:t,headers:r,context:s})}uploadProductFirmware({file:e,version:t,title:r,description:s,product:o,auth:a,headers:i,context:n}){return this.request({uri:`/v1/products/${o}/firmware`,method:"post",auth:a,headers:i,form:{version:t,title:r,description:s},files:{"firmware.bin":e},context:n})}getProductFirmware({version:e,product:t,auth:r,headers:s,context:o}){return this.get({uri:`/v1/products/${t}/firmware/${e}`,auth:r,headers:s,context:o})}updateProductFirmware({version:e,title:t,description:r,product:s,auth:o,headers:a,context:i}){const n=`/v1/products/${s}/firmware/${e}`;return this.put({uri:n,auth:o,headers:a,data:{title:t,description:r},context:i})}downloadProductFirmware({version:e,product:t,auth:r,headers:s,context:o}){return this.request({uri:`/v1/products/${t}/firmware/${e}/binary`,method:"get",auth:r,headers:s,context:o,isBuffer:!0})}releaseProductFirmware({version:e,product:t,auth:r,headers:s,context:o}){const a=`/v1/products/${t}/firmware/release`;return this.put({uri:a,auth:r,headers:s,data:{version:e},context:o})}listTeamMembers({product:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/products/${e}/team`,auth:t,headers:r,context:s})}inviteTeamMember({username:e,product:t,auth:r,headers:s,context:o}){return this.post({uri:`/v1/products/${t}/team`,auth:r,headers:s,data:{username:e},context:o})}removeTeamMember({username:e,product:t,auth:r,headers:s,context:o}){return this.delete({uri:`/v1/products/${t}/team/${e}`,auth:r,headers:s,context:o})}lookupSerialNumber({serialNumber:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/serial_numbers/${e}`,auth:t,headers:r,context:s})}createMeshNetwork({name:e,deviceId:t,iccid:r,auth:s,headers:o,context:a}){return this.post({uri:"/v1/networks",auth:s,headers:o,data:{name:e,device_id:t,iccid:r},context:a})}removeMeshNetwork({networkId:e,auth:t,headers:r,context:s}){return this.delete({uri:`/v1/networks/${e}`,auth:t,headers:r,context:s})}listMeshNetworks({page:e,perPage:t,auth:r,headers:s,context:o}){const a=e?{page:e,per_page:t}:void 0;return this.get({uri:"/v1/networks",auth:r,headers:s,query:a,context:o})}getMeshNetwork({networkId:e,auth:t,headers:r,context:s}){return this.get({uri:`/v1/networks/${e}`,auth:t,headers:r,context:s})}updateMeshNetwork({networkId:e,action:t,deviceId:r,auth:s,headers:o,context:a}){return this.put({uri:`/v1/networks/${e}`,auth:s,headers:o,data:{action:t,device_id:r},context:a})}addMeshNetworkDevice({networkId:e,deviceId:t,auth:r,headers:s,context:o}){return this.updateMeshNetwork({action:"add-device",networkId:e,deviceId:t,auth:r,headers:s,context:o})}removeMeshNetworkDevice({networkId:e,deviceId:t,auth:r,headers:s,context:o}){return e?this.updateMeshNetwork({action:"remove-device",networkId:e,deviceId:t,auth:r,headers:s,context:o}):this.delete({uri:`/v1/devices/${t}/network`,auth:r,headers:s,context:o})}listMeshNetworkDevices({networkId:e,role:t,page:r,perPage:s,auth:o,headers:a,context:i}){const n=t||r?{role:t,page:r,per_page:s}:void 0;return this.get({uri:`/v1/networks/${e}/devices`,auth:o,headers:a,query:n,context:i})}getProductConfiguration({auth:e,product:t,headers:r,context:s}){return this.get({uri:`/v1/products/${t}/config`,auth:e,headers:r,context:s})}getProductConfigurationSchema({auth:e,product:t,headers:r={},context:s}){return r.accept="application/schema+json",this.get({uri:`/v1/products/${t}/config`,auth:e,headers:r,context:s})}getProductDeviceConfiguration({auth:e,product:t,deviceId:r,headers:s,context:o}){return this.get({uri:`/v1/products/${t}/config/${r}`,auth:e,headers:s,context:o})}getProductDeviceConfigurationSchema({auth:e,product:t,deviceId:r,headers:s,context:o}){return s.accept="application/schema+json",this.get({uri:`/v1/products/${t}/config/${r}`,auth:e,headers:s,context:o})}setProductConfiguration({auth:e,product:t,config:r,headers:s,context:o}){return this.put({uri:`/v1/products/${t}/config`,auth:e,data:r,headers:s,context:o})}setProductDeviceConfiguration({auth:e,product:t,deviceId:r,config:s,headers:o,context:a}){return this.put({uri:`/v1/products/${t}/config/${r}`,data:s,auth:e,headers:o,context:a})}getProductLocations({auth:e,product:t,dateRange:r,rectBl:s,rectTr:o,deviceId:a,deviceName:i,groups:n,page:u,perPage:c,headers:d,context:h}){return this.get({uri:`/v1/products/${t}/locations`,query:{date_range:r,rect_bl:s,rect_tr:o,device_id:a,device_name:i,groups:n,page:u,per_page:c},auth:e,headers:d,context:h})}getProductDeviceLocations({auth:e,product:t,dateRange:r,rectBl:s,rectTr:o,deviceId:a,headers:i,context:n}){return this.get({uri:`/v1/products/${t}/locations/${a}`,query:{date_range:r,rect_bl:s,rect_tr:o},auth:e,headers:i,context:n})}createLogicBlock({auth:e,org:t,block:r,headers:s,context:o}){return this.post({uri:`/v1/orgs/${t}/blocks`,auth:e,data:{block:r},headers:s,context:o})}getLogicBlock({auth:e,org:t,blockId:r,headers:s,context:o}){return this.get({uri:`/v1/orgs/${t}/blocks/${r}`,auth:e,headers:s,context:o})}updateLogicBlock({auth:e,org:t,blockId:r,block:s,headers:o,context:a}){return this.put({uri:`/v1/orgs/${t}/blocks/${r}`,auth:e,data:{block:s},headers:o,context:a})}deleteLogicBlock({auth:e,org:t,blockId:r,headers:s,context:o}){return this.delete({uri:`/v1/orgs/${t}/blocks/${r}`,auth:e,headers:s,context:o})}listLogicBlocks({auth:e,org:t,headers:r,context:s}){return this.get({uri:`/v1/orgs/${t}/blocks`,auth:e,headers:r,context:s})}listBlockRuns({auth:e,org:t,blockId:r,headers:s,context:o}){return this.get({uri:`/v1/orgs/${t}/blocks/${r}/runs`,auth:e,headers:s,context:o})}getBlockRun({auth:e,org:t,blockId:r,runId:s,headers:o,context:a}){return this.get({uri:`/v1/orgs/${t}/blocks/${r}/runs/${s}`,auth:e,headers:o,context:a})}getBlockRunLog({auth:e,org:t,blockId:r,runId:s,headers:o,context:a}){return this.get({uri:`/v1/orgs/${t}/blocks/${r}/runs/${s}/logs`,auth:e,headers:o,context:a})}createLedger({auth:e,org:t,ledger:r,headers:s,context:o}){return this.post({uri:`/v1/orgs/${t}/ledgers`,auth:e,data:{ledger:r},headers:s,context:o})}getLedger({auth:e,org:t,ledgerName:r,headers:s,context:o}){return this.get({uri:`/v1/orgs/${t}/ledgers/${r}`,auth:e,headers:s,context:o})}updateLedger({auth:e,org:t,ledgerName:r,ledger:s,headers:o,context:a}){return this.put({uri:`/v1/orgs/${t}/ledgers/${r}`,auth:e,data:{ledger:s},headers:o,context:a})}archiveLedger({auth:e,org:t,ledgerName:r,headers:s,context:o}){return this.delete({uri:`/v1/orgs/${t}/ledgers/${r}`,auth:e,headers:s,context:o})}listLedgers({auth:e,org:t,headers:r,context:s}){return this.get({uri:`/v1/orgs/${t}/ledgers`,auth:e,headers:r,context:s})}getLedgerInstance({auth:e,org:t,ledgerName:r,scopeValue:s,headers:o,context:a}){return this.get({uri:`/v1/orgs/${t}/ledgers/${r}/instances/${s}`,auth:e,headers:o,context:a})}setLedgerInstance({auth:e,org:t,ledgerName:r,scopeValue:s,data:o,headers:a,context:i}){return this.put({uri:`/v1/orgs/${t}/ledgers/${r}/instances/${s}`,auth:e,data:{data:o},headers:a,context:i})}deleteLedgerInstance({auth:e,org:t,ledgerName:r,scopeValue:s,headers:o,context:a}){return this.delete({uri:`/v1/orgs/${t}/ledgers/${r}/instances/${s}`,auth:e,headers:o,context:a})}listLedgerInstances({auth:e,org:t,ledgerName:r,headers:s,context:o}){return this.get({uri:`/v1/orgs/${t}/ledgers/${r}/instances`,auth:e,headers:s,context:o})}setDefaultAuth(e){if("string"!=typeof e||0===e.length)throw new Error("Must pass a non-empty string");this._defaultAuth=e}_getActiveAuthToken(e){return e||this._defaultAuth}deviceUri({deviceId:e,product:t}){return t?`/v1/products/${t}/devices/${e}`:`/v1/devices/${e}`}get({uri:e,auth:t,headers:r,query:s,context:o}){return o=this._buildContext(o),t=this._getActiveAuthToken(t),this.agent.get({uri:e,auth:t,headers:r,query:s,context:o})}head({uri:e,auth:t,headers:r,query:s,context:o}){return o=this._buildContext(o),t=this._getActiveAuthToken(t),this.agent.head({uri:e,auth:t,headers:r,query:s,context:o})}post({uri:e,auth:t,headers:r,data:s,context:o}){return o=this._buildContext(o),t=this._getActiveAuthToken(t),this.agent.post({uri:e,auth:t,headers:r,data:s,context:o})}put({uri:e,auth:t,headers:r,data:s,context:o}){return o=this._buildContext(o),t=this._getActiveAuthToken(t),this.agent.put({uri:e,auth:t,headers:r,data:s,context:o})}delete({uri:e,auth:t,headers:r,data:s,context:o}){return o=this._buildContext(o),t=this._getActiveAuthToken(t),this.agent.delete({uri:e,auth:t,headers:r,data:s,context:o})}request(e){return e.context=this._buildContext(e.context),e.auth=this._getActiveAuthToken(e.auth),this.agent.request(e)}client(e={}){return new i(Object.assign({api:this},e))}setBaseUrl(e){this.baseUrl=e,this.agent.setBaseUrl(e)}}n.prototype.removeAccessToken=n.prototype.deleteAccessToken,e.exports=n},871:e=>{"use strict";e.exports=require("buffer")},405:e=>{"use strict";e.exports=require("builtin-status-codes")},239:e=>{"use strict";e.exports=require("events")},941:e=>{"use strict";e.exports=require("form-data")},766:e=>{"use strict";e.exports=require("inherits")},809:e=>{"use strict";e.exports=require("node-fetch")},104:e=>{"use strict";e.exports=require("qs")},248:e=>{"use strict";e.exports=require("readable-stream")},269:e=>{"use strict";e.exports=require("url")},170:e=>{"use strict";e.exports=require("xtend")},14:()=>{},147:e=>{"use strict";e.exports=JSON.parse('{"name":"particle-api-js","version":"10.0.0","description":"Particle API Client","main":"src/Particle.js","scripts":{"prepublish":"npm run lint && npm run build","test":"npm run lint && npm run typecheck && npm run test:unit","test:ci":"npm run lint && npm run test:unit -- --forbid-only && npm run coverage","test:unit":"mocha test/ -R spec","test:unit:silent":"npm run test:unit > tmp/test-unit-log.txt 2>&1","test:browser":"karma start --single-run","test:watch":"npm run test:unit -- --watch","typecheck":"tsc --noEmit","coverage":"nyc --reporter=text --include=\'src/**/*.js\' --temp-dir=./tmp/ --check-coverage --lines 91 npm run test:unit:silent","lint":"eslint . --ext .js --format unix --ignore-path .gitignore --ignore-pattern \\"dist/*\\"","lint:fix":"npm run lint -- --fix","docs":"documentation build src/Particle.js --shallow -g -f md -o docs/api.md","build":"webpack --env mode=production","build-nomin":"webpack --env mode=development","preversion":"npm run test && npm run prepublish","reinstall":"rm -rf ./node_modules && npm i","version":"npm run build && npm run docs && npm run update-changelog && git add dist/* docs/*","update-changelog":"VERSION=`node -p -e \\"require(\'./package.json\').version\\"` bash -c \'read -p \\"Update CHANGELOG.md for version $VERSION and press ENTER when done.\\"\' && git add CHANGELOG.md"},"repository":{"type":"git","url":"https://github.com/particle-iot/particle-api-js"},"author":"Julien Vanier <julien@particle.io>","contributors":["Ido Kleinman","Bryce Kahle","Justin Debbink","Matthew McGowan","Julien Vanier","Wojtek Siudzinski","Emily Rose"],"keywords":["particle","library","spark","api"],"license":"Apache-2.0","devDependencies":{"@types/node":"^20.5.9","chai":"^4.3.6","chai-as-promised":"^7.1.1","documentation":"^4.0.0-rc.1","eslint":"^8.17.0","eslint-config-particle":"^2.2.1","karma":"^1.1.1","karma-chai":"^0.1.0","karma-cli":"^1.0.1","karma-coverage":"^1.1.0","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-webpack":"^5.0.0","mocha":"^2.5.1","nyc":"^15.1.0","should":"^9.0.0","sinon":"^7.2.5","sinon-chai":"^3.7.0","terser-webpack-plugin":"^5.3.9","typescript":"^5.2.2","webpack":"^5.88.2","webpack-cli":"^5.1.4","webpack-node-externals":"^3.0.0"},"dependencies":{"buffer":"^6.0.3","events":"^3.3.0","form-data":"^4.0.0","node-fetch":"^2.7.0","qs":"^6.11.2","stream-http":"^3.2.0","url":"^0.11.3"},"browser":{"./fs":false,"http":"stream-http","https":"stream-http"},"engines":{"node":">=12.x","npm":"8.x"}}')}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,r),a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var s=r(845);return s=s.default})()));
//# sourceMappingURL=particle.min.js.map